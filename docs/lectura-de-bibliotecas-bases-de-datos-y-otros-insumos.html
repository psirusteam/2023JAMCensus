<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.1 Lectura de Bibliotecas, Bases de Datos y Otros Insumos | Metodologías-de-modelo-de-multinivel-para-la-imputación-del-recuento-de-personas-en-Censos</title>
  <meta name="description" content="Modelo de multinivel para la imputación del recuento de personas en Censos" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="3.1 Lectura de Bibliotecas, Bases de Datos y Otros Insumos | Metodologías-de-modelo-de-multinivel-para-la-imputación-del-recuento-de-personas-en-Censos" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Modelo de multinivel para la imputación del recuento de personas en Censos" />
  <meta name="github-repo" content="psirusteam/HHS-Handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.1 Lectura de Bibliotecas, Bases de Datos y Otros Insumos | Metodologías-de-modelo-de-multinivel-para-la-imputación-del-recuento-de-personas-en-Censos" />
  
  <meta name="twitter:description" content="Modelo de multinivel para la imputación del recuento de personas en Censos" />
  



<meta name="date" content="2023-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="filtrado-y-refinamiento-de-datos-del-censo.html"/>
<link rel="next" href="aplicación-de-filtros-y-análisis-de-datos.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Workshop on Capacity Building Installation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Material del taller</a></li>
<li class="chapter" data-level="1" data-path="instalación-de-bibliotecas-y-software-necesario-para-modelos-de-censo-con-enfoque-bayesiano.html"><a href="instalación-de-bibliotecas-y-software-necesario-para-modelos-de-censo-con-enfoque-bayesiano.html"><i class="fa fa-check"></i><b>1</b> Instalación de bibliotecas y software necesario para modelos de censo con enfoque bayesiano</a>
<ul>
<li class="chapter" data-level="1.1" data-path="paso-1-instalación-del-software.html"><a href="paso-1-instalación-del-software.html"><i class="fa fa-check"></i><b>1.1</b> Paso 1: Instalación del software</a></li>
<li class="chapter" data-level="1.2" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><i class="fa fa-check"></i><b>1.2</b> Paso 2: Instalar las siguientes bibliotecas en <em>R.</em></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#visualización-y-manipulación-de-datos"><i class="fa fa-check"></i><b>1.2.1</b> Visualización y manipulación de datos:</a></li>
<li class="chapter" data-level="1.2.2" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#modelos-estadísticos"><i class="fa fa-check"></i><b>1.2.2</b> Modelos estadísticos:</a></li>
<li class="chapter" data-level="1.2.3" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#analisis-de-encuestas"><i class="fa fa-check"></i><b>1.2.3</b> Analisis de encuestas:</a></li>
<li class="chapter" data-level="1.2.4" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#manipulación-y-transformación-de-datos"><i class="fa fa-check"></i><b>1.2.4</b> Manipulación y Transformación de Datos:</a></li>
<li class="chapter" data-level="1.2.5" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#análisis-bayesiano"><i class="fa fa-check"></i><b>1.2.5</b> Análisis Bayesiano:</a></li>
<li class="chapter" data-level="1.2.6" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#geospatial-analysis"><i class="fa fa-check"></i><b>1.2.6</b> Geospatial Analysis:</a></li>
<li class="chapter" data-level="1.2.7" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#misceláneas"><i class="fa fa-check"></i><b>1.2.7</b> Misceláneas:</a></li>
<li class="chapter" data-level="1.2.8" data-path="paso-2-instalar-las-siguientes-bibliotecas-en-r..html"><a href="paso-2-instalar-las-siguientes-bibliotecas-en-r..html#guía-paso-a-paso-para-instalar-rstan"><i class="fa fa-check"></i><b>1.2.8</b> Guía paso a paso para instalar <code>rstan</code></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="paso-3-validación-de-la-instalación-garantizar-una-instalación-adecuada-de-rstan.html"><a href="paso-3-validación-de-la-instalación-garantizar-una-instalación-adecuada-de-rstan.html"><i class="fa fa-check"></i><b>1.3</b> Paso 3: Validación de la instalación: garantizar una instalación adecuada de <code>rstan</code></a></li>
<li class="chapter" data-level="1.4" data-path="paso-4-crear-una-cuenta-de-google-earth-engine.html"><a href="paso-4-crear-una-cuenta-de-google-earth-engine.html"><i class="fa fa-check"></i><b>1.4</b> Paso 4: Crear una cuenta de Google Earth Engine:</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="estandarización-y-validación-de-variables-de-datos-censales-disponibles.html"><a href="estandarización-y-validación-de-variables-de-datos-censales-disponibles.html"><i class="fa fa-check"></i><b>2</b> Estandarización y validación de variables de datos censales disponibles</a>
<ul>
<li class="chapter" data-level="2.1" data-path="asignación-de-valores-faltantes-a-la-variable-h01a_total_personas.html"><a href="asignación-de-valores-faltantes-a-la-variable-h01a_total_personas.html"><i class="fa fa-check"></i><b>2.1</b> Asignación de valores faltantes a la variable <code>H01A_TOTAL_PERSONAS</code></a></li>
<li class="chapter" data-level="2.2" data-path="valores-descriptivos-de-los-datos-censos.html"><a href="valores-descriptivos-de-los-datos-censos.html"><i class="fa fa-check"></i><b>2.2</b> Valores Descriptivos de los Datos Censos</a>
<ul>
<li class="chapter" data-level="" data-path="valores-descriptivos-de-los-datos-censos.html"><a href="valores-descriptivos-de-los-datos-censos.html#variables-numéricas"><i class="fa fa-check"></i>Variables numéricas</a></li>
<li class="chapter" data-level="" data-path="valores-descriptivos-de-los-datos-censos.html"><a href="valores-descriptivos-de-los-datos-censos.html#variables-de-caracteres"><i class="fa fa-check"></i>Variables de caracteres</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="organización-de-resultados-en-una-base-de-datos.html"><a href="organización-de-resultados-en-una-base-de-datos.html"><i class="fa fa-check"></i><b>2.3</b> Organización de resultados en una base de datos</a></li>
<li class="chapter" data-level="2.4" data-path="actualización-del-conjunto-de-datos-basada-en-los-resultados-del-informe.html"><a href="actualización-del-conjunto-de-datos-basada-en-los-resultados-del-informe.html"><i class="fa fa-check"></i><b>2.4</b> Actualización del conjunto de datos basada en los resultados del informe</a></li>
<li class="chapter" data-level="2.5" data-path="refinamiento-y-análisis-del-conjunto-de-datos.html"><a href="refinamiento-y-análisis-del-conjunto-de-datos.html"><i class="fa fa-check"></i><b>2.5</b> Refinamiento y Análisis del Conjunto de Datos</a></li>
<li class="chapter" data-level="2.6" data-path="resumen-y-análisis-de-datos.html"><a href="resumen-y-análisis-de-datos.html"><i class="fa fa-check"></i><b>2.6</b> Resumen y Análisis de Datos</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="filtrado-y-refinamiento-de-datos-del-censo.html"><a href="filtrado-y-refinamiento-de-datos-del-censo.html"><i class="fa fa-check"></i><b>3</b> Filtrado y Refinamiento de Datos del Censo</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><i class="fa fa-check"></i><b>3.1</b> Lectura de Bibliotecas, Bases de Datos y Otros Insumos</a>
<ul>
<li class="chapter" data-level="" data-path="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#lectura-de-datos-de-vivienda-sin-coordenadas."><i class="fa fa-check"></i>Lectura de Datos de Vivienda sin Coordenadas.</a></li>
<li class="chapter" data-level="" data-path="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cambio-de-códigos-ugm-en-los-datos-de-vivienda."><i class="fa fa-check"></i>Cambio de Códigos UGM en los Datos de Vivienda.</a></li>
<li class="chapter" data-level="" data-path="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#leer-los-datos-del-censo-estandarizados."><i class="fa fa-check"></i>Leer los Datos del Censo Estandarizados.</a></li>
<li class="chapter" data-level="" data-path="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#agregando-la-base-de-edad-y-sexo."><i class="fa fa-check"></i>Agregando la Base de Edad y Sexo.</a></li>
<li class="chapter" data-level="3.1.1" data-path="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#inner-join-para-agregar-la-base-de-edad-y-sexo"><i class="fa fa-check"></i><b>3.1.1</b> Inner Join para Agregar la Base de Edad y Sexo</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html"><i class="fa fa-check"></i><b>3.2</b> Aplicación de filtros y análisis de datos</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#aplicación-del-primer-filtro-categorización-de-hogares-con-residentes-y-determinación-del-estado-de-greenpoint"><i class="fa fa-check"></i><b>3.2.1</b> Aplicación del primer filtro: categorización de hogares con residentes y determinación del estado de greenpoint</a></li>
<li class="chapter" data-level="3.2.2" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#aplicación-del-segundo-filtro-criterio-worldpop"><i class="fa fa-check"></i><b>3.2.2</b> Aplicación del segundo filtro: Criterio WorldPop</a></li>
<li class="chapter" data-level="3.2.3" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#resumen-de-estadísticas-basado-en-greenpoint2"><i class="fa fa-check"></i><b>3.2.3</b> Resumen de estadísticas basado en ‘greenpoint2’</a></li>
<li class="chapter" data-level="3.2.4" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#definición-del-tercer-filtro"><i class="fa fa-check"></i><b>3.2.4</b> Definición del tercer filtro</a></li>
<li class="chapter" data-level="3.2.5" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#combinando-casas-no-coordinadas"><i class="fa fa-check"></i><b>3.2.5</b> Combinando casas no coordinadas</a></li>
<li class="chapter" data-level="3.2.6" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#agregación-de-estadísticas-y-resúmenes"><i class="fa fa-check"></i><b>3.2.6</b> Agregación de estadísticas y resúmenes</a></li>
<li class="chapter" data-level="3.2.7" data-path="aplicación-de-filtros-y-análisis-de-datos.html"><a href="aplicación-de-filtros-y-análisis-de-datos.html#extraer-y-guardar-subconjunto"><i class="fa fa-check"></i><b>3.2.7</b> Extraer y guardar subconjunto</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="estandarización-y-validación-de-covariables.html"><a href="estandarización-y-validación-de-covariables.html"><i class="fa fa-check"></i><b>4</b> Estandarización y validación de covariables</a>
<ul>
<li class="chapter" data-level="4.1" data-path="preparación-del-entorno-y-carga-de-bibliotecas.html"><a href="preparación-del-entorno-y-carga-de-bibliotecas.html"><i class="fa fa-check"></i><b>4.1</b> Preparación del entorno y carga de bibliotecas</a></li>
<li class="chapter" data-level="4.2" data-path="valores-descriptivos-de-la-base-de-ugms.html"><a href="valores-descriptivos-de-la-base-de-ugms.html"><i class="fa fa-check"></i><b>4.2</b> Valores descriptivos de la base de UGMs</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="valores-descriptivos-de-la-base-de-ugms.html"><a href="valores-descriptivos-de-la-base-de-ugms.html#estandarización-de-variables-y-unión-de-conjuntos-de-datos."><i class="fa fa-check"></i><b>4.2.1</b> Estandarización de variables y unión de conjuntos de datos.</a></li>
<li class="chapter" data-level="4.2.2" data-path="valores-descriptivos-de-la-base-de-ugms.html"><a href="valores-descriptivos-de-la-base-de-ugms.html#estandarizar-las-variables-numéricas-utilizando-la-escala-de-puntuación-z-z-score."><i class="fa fa-check"></i><b>4.2.2</b> Estandarizar las variables numéricas utilizando la escala de puntuación z (z-score).</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="modelo-binomial-de-unidad-para-viviendas-ocupadas.html"><a href="modelo-binomial-de-unidad-para-viviendas-ocupadas.html"><i class="fa fa-check"></i><b>5</b> Modelo binomial de unidad para viviendas ocupadas</a>
<ul>
<li class="chapter" data-level="5.1" data-path="preparación-del-entorno-y-los-datos.html"><a href="preparación-del-entorno-y-los-datos.html"><i class="fa fa-check"></i><b>5.1</b> Preparación del entorno y los datos</a></li>
<li class="chapter" data-level="5.2" data-path="definición-de-la-columna-desocupada-clasificación-del-estado-de-ocupación.html"><a href="definición-de-la-columna-desocupada-clasificación-del-estado-de-ocupación.html"><i class="fa fa-check"></i><b>5.2</b> Definición de la columna ‘Desocupada’: Clasificación del estado de ocupación</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="definición-de-la-columna-desocupada-clasificación-del-estado-de-ocupación.html"><a href="definición-de-la-columna-desocupada-clasificación-del-estado-de-ocupación.html#conteo-de-combinaciones-de-estado-de-ocupación-y-valores-de-greenpoint"><i class="fa fa-check"></i><b>5.2.1</b> Conteo de Combinaciones de Estado de Ocupación y Valores de ‘Greenpoint’</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="consolidación-de-bases-de-datos-de-viviendas-del-censo.html"><a href="consolidación-de-bases-de-datos-de-viviendas-del-censo.html"><i class="fa fa-check"></i><b>6</b> Consolidación de bases de datos de viviendas del CENSO</a>
<ul>
<li class="chapter" data-level="6.1" data-path="definición-de-viviendas-ocupadas-y-desocupadas..html"><a href="definición-de-viviendas-ocupadas-y-desocupadas..html"><i class="fa fa-check"></i><b>6.1</b> Definición de viviendas ocupadas y desocupadas.</a></li>
<li class="chapter" data-level="6.2" data-path="resumen-de-medidas-y-validación-de-resultados.html"><a href="resumen-de-medidas-y-validación-de-resultados.html"><i class="fa fa-check"></i><b>6.2</b> Resumen de medidas y validación de resultados</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="estimación-del-número-de-personas-por-hogar.html"><a href="estimación-del-número-de-personas-por-hogar.html"><i class="fa fa-check"></i><b>7</b> Estimación del número de personas por hogar</a>
<ul>
<li class="chapter" data-level="7.1" data-path="lectura-de-los-datos-del-censo..html"><a href="lectura-de-los-datos-del-censo..html"><i class="fa fa-check"></i><b>7.1</b> Lectura de los datos del censo.</a></li>
<li class="chapter" data-level="7.2" data-path="preparando-datos-para-el-modelo-1.html"><a href="preparando-datos-para-el-modelo-1.html"><i class="fa fa-check"></i><b>7.2</b> Preparando datos para el Modelo 1</a></li>
<li class="chapter" data-level="7.3" data-path="preparando-datos-para-el-modelo-2.html"><a href="preparando-datos-para-el-modelo-2.html"><i class="fa fa-check"></i><b>7.3</b> Preparando datos para el Modelo 2</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="consolidar-el-número-de-personas-por-hogar.html"><a href="consolidar-el-número-de-personas-por-hogar.html"><i class="fa fa-check"></i><b>8</b> Consolidar el número de personas por hogar</a></li>
<li class="chapter" data-level="9" data-path="modelo-multinomial-para-estimar-personas-por-rango-de-edad-y-sexo.html"><a href="modelo-multinomial-para-estimar-personas-por-rango-de-edad-y-sexo.html"><i class="fa fa-check"></i><b>9</b> Modelo multinomial para estimar personas por rango de edad y sexo</a></li>
<li class="chapter" data-level="10" data-path="creando-la-base-censal-con-predicciones-del-modelo-multinomial.html"><a href="creando-la-base-censal-con-predicciones-del-modelo-multinomial.html"><i class="fa fa-check"></i><b>10</b> Creando la base censal con predicciones del modelo multinomial</a>
<ul>
<li class="chapter" data-level="10.1" data-path="resultados-por-provincias.html"><a href="resultados-por-provincias.html"><i class="fa fa-check"></i><b>10.1</b> Resultados por Provincias</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="estimaciones-agregadas.html"><a href="estimaciones-agregadas.html"><i class="fa fa-check"></i><b>11</b> Estimaciones Agregadas</a>
<ul>
<li class="chapter" data-level="" data-path="estimaciones-agregadas.html"><a href="estimaciones-agregadas.html#reading-the-census-data."><i class="fa fa-check"></i>Reading the census data.</a></li>
<li class="chapter" data-level="11.1" data-path="prediction-of-the-unoccupied-household-rate.html"><a href="prediction-of-the-unoccupied-household-rate.html"><i class="fa fa-check"></i><b>11.1</b> Prediction of the unoccupied household rate</a></li>
<li class="chapter" data-level="11.2" data-path="predicción-del-total-de-personas.html"><a href="predicción-del-total-de-personas.html"><i class="fa fa-check"></i><b>11.2</b> Predicción del total de personas</a></li>
<li class="chapter" data-level="11.3" data-path="predicción-del-total-de-personas-por-rango-de-edad-y-sexo.html"><a href="predicción-del-total-de-personas-por-rango-de-edad-y-sexo.html"><i class="fa fa-check"></i><b>11.3</b> Predicción del total de personas por rango de edad y sexo</a></li>
</ul></li>
<li class="divider"></li>
<li><a Workshop on Capacity Building Installation </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Lectura de Bibliotecas, Bases de Datos y Otros Insumos<a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#lectura-de-bibliotecas-bases-de-datos-y-otros-insumos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En esta sección, comenzamos cargando las bibliotecas necesarias utilizadas en todo el procesamiento. Además, definimos las columnas que se conservarán después de aplicar los filtros. También realizamos ajustes necesarios en las bases de datos, considerando actualizaciones en los códigos de las Unidades Geográficas Mínimas (UGM).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-1" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb21-2"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)      <span class="co"># For data manipulation and visualization</span></span>
<span id="cb21-3"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-3" tabindex="-1"></a><span class="fu">library</span>(data.table)     <span class="co"># For efficient data handling</span></span>
<span id="cb21-4"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-4" tabindex="-1"></a><span class="fu">library</span>(openxlsx)       <span class="co"># For reading/writing Excel files</span></span>
<span id="cb21-5"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-5" tabindex="-1"></a><span class="fu">library</span>(magrittr)       <span class="co"># For pipe operators</span></span>
<span id="cb21-6"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-6" tabindex="-1"></a>select <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>select <span class="co"># Alias for dplyr&#39;s select function</span></span>
<span id="cb21-7"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\f</span><span class="st">&quot;</span>)               <span class="co"># Clear console output</span></span>
<span id="cb21-8"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-8" tabindex="-1"></a></span>
<span id="cb21-9"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-9" tabindex="-1"></a><span class="do">## Census data reading</span></span>
<span id="cb21-10"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-10" tabindex="-1"></a><span class="do">## Selection of columns of interest in the census.</span></span>
<span id="cb21-11"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-11" tabindex="-1"></a></span>
<span id="cb21-12"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-12" tabindex="-1"></a>Nombre_Columna <span class="ot">&lt;-</span>  <span class="fu">c</span>(</span>
<span id="cb21-13"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-13" tabindex="-1"></a>  <span class="st">&quot;un_ID&quot;</span> , </span>
<span id="cb21-14"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-14" tabindex="-1"></a>  <span class="st">&quot;PROV_ID&quot;</span> , </span>
<span id="cb21-15"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-15" tabindex="-1"></a>  <span class="st">&quot;CANT_ID&quot;</span> , </span>
<span id="cb21-16"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-16" tabindex="-1"></a>  <span class="st">&quot;DIST_ID&quot;</span> , </span>
<span id="cb21-17"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-17" tabindex="-1"></a>  <span class="st">&quot;UGM_ID&quot;</span> , </span>
<span id="cb21-18"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-18" tabindex="-1"></a>  <span class="st">&quot;LLAVEV&quot;</span> , </span>
<span id="cb21-19"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-19" tabindex="-1"></a>  <span class="st">&quot;V01_TIPO_VIVIENDA&quot;</span> , </span>
<span id="cb21-20"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-20" tabindex="-1"></a>  <span class="st">&quot;V02_OCUPACION_VIVIENDA&quot;</span> , </span>
<span id="cb21-21"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-21" tabindex="-1"></a>  <span class="st">&quot;H01A_TOTAL_PERSONAS&quot;</span> , </span>
<span id="cb21-22"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-22" tabindex="-1"></a>  <span class="st">&quot;greenpoint2&quot;</span>,</span>
<span id="cb21-23"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-23" tabindex="-1"></a>  <span class="st">&quot;Filtros&quot;</span></span>
<span id="cb21-24"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb21-24" tabindex="-1"></a>) </span></code></pre></div>
<div id="lectura-de-datos-de-vivienda-sin-coordenadas." class="section level3 unnumbered hasAnchor">
<h3>Lectura de Datos de Vivienda sin Coordenadas.<a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#lectura-de-datos-de-vivienda-sin-coordenadas." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En esta sección, leemos los datos de vivienda desde un archivo CSV que no incluye coordenadas. Luego transformamos los datos al formato requerido, incluyendo variables como el ID de provincia, el ID de cantón y el ID de distrito basados en los códigos proporcionados. El conjunto de datos resultante se utilizará para análisis y procesamiento adicionales.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-1" tabindex="-1"></a>Viviendas_sin_coordenadas <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">&quot;Recursos/02_Census_Filters/Data/Viviendas sin coordenadas.csv&quot;</span>)</span>
<span id="cb22-2"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-3" tabindex="-1"></a><span class="co"># Transmute data to required format</span></span>
<span id="cb22-4"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-4" tabindex="-1"></a>Viviendas_sin_coordenadas <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb22-5"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-5" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb22-6"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-6" tabindex="-1"></a>    LLAVEV,</span>
<span id="cb22-7"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-7" tabindex="-1"></a>    <span class="at">PROV_ID =</span> <span class="fu">str_sub</span>(CODIGO_PCD, <span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb22-8"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-8" tabindex="-1"></a>    <span class="at">CANT_ID =</span> <span class="fu">str_sub</span>(CODIGO_PCD, <span class="dv">1</span>,<span class="dv">3</span>),</span>
<span id="cb22-9"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-9" tabindex="-1"></a>    <span class="at">DIST_ID    =</span> <span class="fu">as.character</span>(CODIGO_PCD),</span>
<span id="cb22-10"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-10" tabindex="-1"></a>    <span class="at">UGM_ID =</span> <span class="fu">paste0</span>(CODIGO_PCD , ID_UGM), </span>
<span id="cb22-11"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb22-11" tabindex="-1"></a>    <span class="at">H01A_TOTAL_PERSONAS =</span> H01A_TOTAL_RESIDENTES_HAB)</span></code></pre></div>
</div>
<div id="cambio-de-códigos-ugm-en-los-datos-de-vivienda." class="section level3 unnumbered hasAnchor">
<h3>Cambio de Códigos UGM en los Datos de Vivienda.<a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cambio-de-códigos-ugm-en-los-datos-de-vivienda." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En esta sección, modificamos los códigos UGM en los datos de vivienda para garantizar la consistencia y precisión. Algunos códigos UGM se actualizan de acuerdo con asignaciones predefinidas. Este paso es crucial para mantener la uniformidad de los datos para análisis posteriores.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-1" tabindex="-1"></a>Viviendas_sin_coordenadas <span class="sc">%&lt;&gt;%</span></span>
<span id="cb23-2"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">UGM_ID =</span> </span>
<span id="cb23-3"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-3" tabindex="-1"></a>           <span class="fu">case_when</span>(</span>
<span id="cb23-4"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-4" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;10108228&quot;</span> <span class="sc">~</span> <span class="st">&quot;10108158&quot;</span>,</span>
<span id="cb23-5"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-5" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;10805037&quot;</span> <span class="sc">~</span> <span class="st">&quot;10807037&quot;</span>,</span>
<span id="cb23-6"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-6" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803124&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803024&quot;</span>,</span>
<span id="cb23-7"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-7" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803150&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803050&quot;</span>,</span>
<span id="cb23-8"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-8" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803151&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803051&quot;</span>,</span>
<span id="cb23-9"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-9" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;20302131&quot;</span> <span class="sc">~</span> <span class="st">&quot;20302031&quot;</span>,</span>
<span id="cb23-10"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-10" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;21305106&quot;</span> <span class="sc">~</span> <span class="st">&quot;21305006&quot;</span>,</span>
<span id="cb23-11"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-11" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30101232&quot;</span> <span class="sc">~</span> <span class="st">&quot;30101132&quot;</span>,</span>
<span id="cb23-12"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-12" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30201354&quot;</span> <span class="sc">~</span> <span class="st">&quot;30201254&quot;</span>,</span>
<span id="cb23-13"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-13" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30302158&quot;</span> <span class="sc">~</span> <span class="st">&quot;30302133&quot;</span>,</span>
<span id="cb23-14"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-14" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30305186&quot;</span> <span class="sc">~</span> <span class="st">&quot;30305086&quot;</span>,</span>
<span id="cb23-15"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-15" tabindex="-1"></a>             <span class="cn">TRUE</span> <span class="sc">~</span>UGM_ID</span>
<span id="cb23-16"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb23-16" tabindex="-1"></a>           ))</span></code></pre></div>
</div>
<div id="leer-los-datos-del-censo-estandarizados." class="section level3 unnumbered hasAnchor">
<h3>Leer los Datos del Censo Estandarizados.<a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#leer-los-datos-del-censo-estandarizados." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En esta sección, leemos los datos del censo estandarizados desde un archivo RDS (R Data Serialization) almacenado. Al igual que en el paso anterior, ajustamos los códigos UGM para mantener la consistencia de los datos. Los datos del censo estandarizados servirán como base para los procesos posteriores de filtrado y refinamiento.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-1" tabindex="-1"></a>censo1 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;Recursos/02_Census_Filters/Data/censo_estandarizado.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">UGM_ID =</span></span>
<span id="cb24-3"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-3" tabindex="-1"></a>           <span class="fu">case_when</span>(</span>
<span id="cb24-4"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-4" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;10108228&quot;</span> <span class="sc">~</span> <span class="st">&quot;10108158&quot;</span>,</span>
<span id="cb24-5"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-5" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;10805037&quot;</span> <span class="sc">~</span> <span class="st">&quot;10807037&quot;</span>,</span>
<span id="cb24-6"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-6" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803124&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803024&quot;</span>,</span>
<span id="cb24-7"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-7" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803150&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803050&quot;</span>,</span>
<span id="cb24-8"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-8" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803151&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803051&quot;</span>,</span>
<span id="cb24-9"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-9" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;20302131&quot;</span> <span class="sc">~</span> <span class="st">&quot;20302031&quot;</span>,</span>
<span id="cb24-10"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-10" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;21305106&quot;</span> <span class="sc">~</span> <span class="st">&quot;21305006&quot;</span>,</span>
<span id="cb24-11"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-11" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30101232&quot;</span> <span class="sc">~</span> <span class="st">&quot;30101132&quot;</span>,</span>
<span id="cb24-12"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-12" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30201354&quot;</span> <span class="sc">~</span> <span class="st">&quot;30201254&quot;</span>,</span>
<span id="cb24-13"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-13" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30302158&quot;</span> <span class="sc">~</span> <span class="st">&quot;30302133&quot;</span>,</span>
<span id="cb24-14"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-14" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30305186&quot;</span> <span class="sc">~</span> <span class="st">&quot;30305086&quot;</span>,</span>
<span id="cb24-15"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-15" tabindex="-1"></a>             <span class="cn">TRUE</span> <span class="sc">~</span>UGM_ID</span>
<span id="cb24-16"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb24-16" tabindex="-1"></a>           ))</span></code></pre></div>
</div>
<div id="agregando-la-base-de-edad-y-sexo." class="section level3 unnumbered hasAnchor">
<h3>Agregando la Base de Edad y Sexo.<a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#agregando-la-base-de-edad-y-sexo." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En esta sección, incorporamos la base de edad y sexo al análisis. La base de edad y sexo se lee desde un archivo RDS almacenado. Al igual que en los pasos anteriores, garantizamos la consistencia ajustando los códigos UGM. La base de edad y sexo proporciona información demográfica valiosa y se utilizará en los procedimientos posteriores de filtrado y refinamiento.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-1" tabindex="-1"></a>censo_sexo_edad <span class="ot">&lt;-</span></span>
<span id="cb25-2"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-2" tabindex="-1"></a>  <span class="fu">readRDS</span>(<span class="st">&quot;Recursos/02_Census_Filters/Data/Censo con grupos por sexo.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>H01A_TOTAL_PERSONAS ) <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">UGM_ID =</span></span>
<span id="cb25-5"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-5" tabindex="-1"></a>           <span class="fu">case_when</span>(</span>
<span id="cb25-6"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-6" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;10108228&quot;</span> <span class="sc">~</span> <span class="st">&quot;10108158&quot;</span>,</span>
<span id="cb25-7"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-7" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;10805037&quot;</span> <span class="sc">~</span> <span class="st">&quot;10807037&quot;</span>,</span>
<span id="cb25-8"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-8" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803124&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803024&quot;</span>,</span>
<span id="cb25-9"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-9" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803150&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803050&quot;</span>,</span>
<span id="cb25-10"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-10" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;11803151&quot;</span> <span class="sc">~</span> <span class="st">&quot;11803051&quot;</span>,</span>
<span id="cb25-11"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-11" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;20302131&quot;</span> <span class="sc">~</span> <span class="st">&quot;20302031&quot;</span>,</span>
<span id="cb25-12"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-12" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;21305106&quot;</span> <span class="sc">~</span> <span class="st">&quot;21305006&quot;</span>,</span>
<span id="cb25-13"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-13" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30101232&quot;</span> <span class="sc">~</span> <span class="st">&quot;30101132&quot;</span>,</span>
<span id="cb25-14"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-14" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30201354&quot;</span> <span class="sc">~</span> <span class="st">&quot;30201254&quot;</span>,</span>
<span id="cb25-15"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-15" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30302158&quot;</span> <span class="sc">~</span> <span class="st">&quot;30302133&quot;</span>,</span>
<span id="cb25-16"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-16" tabindex="-1"></a>             UGM_ID <span class="sc">==</span> <span class="st">&quot;30305186&quot;</span> <span class="sc">~</span> <span class="st">&quot;30305086&quot;</span>,</span>
<span id="cb25-17"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-17" tabindex="-1"></a>             <span class="cn">TRUE</span> <span class="sc">~</span>UGM_ID</span>
<span id="cb25-18"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb25-18" tabindex="-1"></a>           ))</span></code></pre></div>
</div>
<div id="inner-join-para-agregar-la-base-de-edad-y-sexo" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Inner Join para Agregar la Base de Edad y Sexo<a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#inner-join-para-agregar-la-base-de-edad-y-sexo" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En esta sección, se realiza una operación de unión interna para integrar la base de edad y sexo con los datos censales. La diferencia en el recuento de filas entre las dos bases corresponde a los hogares censados en papel que se incluyen más adelante en el proceso. Se compara el número de filas en la base de edad y sexo con los datos del censo y los datos de viviendas sin coordenadas para verificar la coincidencia.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-1" tabindex="-1"></a><span class="do">## The difference between the bases corresponds to paper-censused households</span></span>
<span id="cb26-2"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-2" tabindex="-1"></a><span class="do">## that are included later</span></span>
<span id="cb26-3"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-3" tabindex="-1"></a><span class="fu">nrow</span>(censo_sexo_edad) <span class="sc">-</span> <span class="fu">nrow</span>(censo1) </span>
<span id="cb26-4"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-4" tabindex="-1"></a><span class="fu">nrow</span>(Viviendas_sin_coordenadas)</span>
<span id="cb26-5"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-5" tabindex="-1"></a></span>
<span id="cb26-6"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-6" tabindex="-1"></a><span class="do">## Inner join to add the age-sex base</span></span>
<span id="cb26-7"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-7" tabindex="-1"></a></span>
<span id="cb26-8"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-8" tabindex="-1"></a>censo1 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(</span>
<span id="cb26-9"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-9" tabindex="-1"></a>  censo1,</span>
<span id="cb26-10"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-10" tabindex="-1"></a>  censo_sexo_edad,</span>
<span id="cb26-11"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-11" tabindex="-1"></a>  <span class="fu">join_by</span>(</span>
<span id="cb26-12"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-12" tabindex="-1"></a>    un_ID,</span>
<span id="cb26-13"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-13" tabindex="-1"></a>    PROV_ID,</span>
<span id="cb26-14"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-14" tabindex="-1"></a>    CANT_ID,</span>
<span id="cb26-15"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-15" tabindex="-1"></a>    DIST_ID,</span>
<span id="cb26-16"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-16" tabindex="-1"></a>    UGM_ID,</span>
<span id="cb26-17"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-17" tabindex="-1"></a>    LLAVEV,</span>
<span id="cb26-18"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-18" tabindex="-1"></a>    V01_TIPO_VIVIENDA,</span>
<span id="cb26-19"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-19" tabindex="-1"></a>    V02_OCUPACION_VIVIENDA</span>
<span id="cb26-20"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-20" tabindex="-1"></a>  )</span>
<span id="cb26-21"><a href="lectura-de-bibliotecas-bases-de-datos-y-otros-insumos.html#cb26-21" tabindex="-1"></a>)</span></code></pre></div>
<p>El código comienza calculando la diferencia en el recuento de filas entre la base de edad y sexo (<code>censo_sexo_edad</code>) y los datos censales existentes (<code>censo1</code>). Esta diferencia representa el número de hogares censados en papel que aún no se han incluido en los datos del censo. Además, se determina el número de filas en los datos de viviendas sin coordenadas (<code>Viviendas_sin_coordenadas</code>) como referencia.</p>
<p>A continuación, se aplica la operación <code>inner_join</code> para combinar la base de edad y sexo con los datos censales. La función <code>join_by</code> especifica las columnas utilizadas para la operación de unión, asegurando una integración completa de los datos de ambas fuentes. Este proceso mejora el conjunto de datos al incorporar información demográfica importante para un análisis posterior.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="filtrado-y-refinamiento-de-datos-del-censo.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="aplicación-de-filtros-y-análisis-de-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/2021ASDA/02_Housing_Census_Filters.qmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Metodologías de modelo de multinivel para la imputación del recuento de personas en Censos.pdf", "Metodologías de modelo de multinivel para la imputación del recuento de personas en Censos.epub", "Metodologías de modelo de multinivel para la imputación del recuento de personas en Censos.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
